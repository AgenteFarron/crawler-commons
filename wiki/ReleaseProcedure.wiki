#summary Step-by-step guide to generating a release.

= Introduction =

This page describes how to do a release of crawler-commons. As we are using 
Ant Tasks + Maven, it is drop dead easy :0). So hold on to your hats, here we go!

= Details =

*Checkout a fresh version of the ENTIRE Crawler Commons SVN repository* 
It is pretty small < 1/2 GB and this saves time later on. The following command 
can be used-

svn checkout https://crawler-commons.googlecode.com/svn/ crawler-commons --username ${user.name}

You may also be promped for your password here.

*Update version numbers*

  * % cd trunk

Versioning should be changed from X.Y-SNAPSHOT to just X.Y, in the following files:

  * pom.xml
  * build.properties 
  
Additionally, please ensure that the details in CHANGES.txt are accurate and that 
the year, javadoc.link etc. are all accurate within build.properties. 

*Generate release javadoc*

  * % ant doc
  * % cp -r build/java-doc/ ../wiki/javadoc/X.Y/ (X.Y should denote the release version)
  * % svn add ../wiki/docs/X.Y/
  * % ant clean
  
*Commit to SVN & Tag*

Before we deploy the artifacts, we want to commit the new Javadocs and files with new version numbers to Subversion. Then you can tag this as the released version.

  * % cd ../ (you may wish to execute 'svn status' to ensure that all the files you wish are being committed)
  * % svn ci -m "Update for X.Y release"
  * % svn copy https://crawler-commons.googlecode.com/svn/trunk/ https://crawler-commons.googlecode.com/svn/tags/release-X.Y
  
*Build & Deploy the pom, jar, javadoc, signatures and sources to the Sonatype staging repository*

  + % cd trunk 
  + % ant stage

*Update Version Numbers to accomodate new development*

Edit the first two files to change the version number from X.Y to X.Y+1-SNAPSHOT (e.g. 0.2 to 0.3-SNAPSHOT)

  * pom.xml
  * build.properties

Then commit these modified files

% svn ci -m "Update version numbers for X.Y+1 development"

*Publicize*

Post to the crawler-commons list, as well as Nutch and Bixo.
